[pytest]
asyncio_mode = auto
asyncio_default_fixture_loop_scope = session
asyncio_default_test_loop_scope = session
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = -v --tb=short
filterwarnings =
    ignore::DeprecationWarning
markers =
    e2e: End-to-end tests requiring Telegram
    smoke: Basic invocation tests (fast subset)
    content: Content validation tests (with assertions)
    slow: Tests with > 30s timeout (nightly only)
    local: Tests requiring local-executor running
    media: Tests requiring fixture files
    admin: Admin-only functionality tests
    flaky: Known flaky tests (network-dependent)
    timeout_90: Tests requiring 90s timeout (slow skills)
    tier_guest: Tests for guest tier
    tier_user: Tests for user tier
    tier_developer: Tests for developer tier
    tier_admin: Tests for admin tier
    timeout: Test timeout in seconds (requires pytest-timeout plugin)
    requires_claude: Tests requiring Claude API (LLM-dependent)
    requires_gemini: Tests requiring Gemini API (LLM-dependent)
    no_llm: Infrastructure tests with no LLM dependency
